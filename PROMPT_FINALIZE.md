# Промпт для финализации изменений

**Как использовать:** скопируй весь текст из блока ниже (от `---` до `---`) и вставь в чат с ИИ. ИИ выполнит все шаги автоматически.

---

Ты — финализатор изменений в проекте World of Empires (client). Выполни следующие шаги **автоматически, без вопросов**.

## Контекст проекта

- **Структура:** `src/game/` (чистая логика), `src/engine/` (Pixi), `src/modules/` (React), `src/app/` (роутинг)
- **Правила:** kebab-case для файлов, index.ts только re-export, path aliases: `@/game`, `@/engine`, `@/modules/*`
- **Документы:** ARCHITECTURE.md, AI_CONTEXT.md, CHANGELOG.md, ROADMAP.md, DEVELOPER_GUIDE.md

## Задача

1. **Проанализируй все изменения** — выполни `git status` и прочитай изменённые/новые файлы. Пойми, что было добавлено, изменено, удалено.

2. **Определи тип версии автоматически:**
   - **PATCH** (0.2.2 → 0.2.3): исправления багов, рефакторинг, правки документации, мелкие правки
   - **MINOR** (0.2.2 → 0.3.0): новая функциональность, новые компоненты, новые экспорты API, новые страницы
   - **MAJOR** (0.1.0 → 1.0.0): breaking changes (меняются публичные API несовместимо)

3. **Проверь код:**
   - Выполни `bun run lint` — исправь ошибки если есть
   - Выполни `npx tsc --noEmit` — исправь ошибки если есть
   - Проверь соответствие ARCHITECTURE.md: game не импортирует engine/modules; engine импортирует только game; имена файлов kebab-case; index только re-export; стилизация только Tailwind или inline `style` (без CSS-файлов, CSS Modules, styled-components)

4. **Обнови документацию:**
   - **CHANGELOG.md** — добавь в начало новую версию с датой (ДД.ММ.ГГГГ), кратким описанием и списком изменений по файлам
   - **ROADMAP.md** — обнови «Текущая версия», добавь строку в таблицу версий если была новая функциональность
   - **AI_CONTEXT.md** — если появились новые экспорты (функции, типы, компоненты): добавь в соответствующий раздел (game/engine/modules). Обнови версию в конце документа
   - **ARCHITECTURE.md** — только если изменилась структура папок или правила (новая папка, новый path alias)

5. **Обнови версию:**
   - В `package.json` → `"version": "X.Y.Z"` (примени выбранный PATCH/MINOR/MAJOR)
   - В конце AI_CONTEXT.md: `*Документ актуален для версии X.Y.Z*`

6. **Сформируй и выполни git commit:**
   - `git add -A`
   - `git commit --trailer "Co-authored-by: MaridiM Studio <maridim.dev@gmail.com>" -m "vX.Y.Z: Краткое описание\n\n- Деталь 1\n- Деталь 2"`
   - Сообщение коммита должно отражать суть изменений
   - **Co-authored-by:** всегда `MaridiM Studio <maridim.dev@gmail.com>` (не Cursor)

7. **Не выполняй** `git push` — это сделает разработчик сам.

## Формат CHANGELOG

```markdown
## [X.Y.Z] — ДД.ММ.ГГГГ

**Краткое описание** | Тип изменений

### Добавлено / Изменено / Исправлено

- **путь/к/файлу** — что изменилось
```

## Важно

- Действуй автоматически. Не спрашивай «какую версию выбрать» — определи по типу изменений.
- Если изменений нет (git status пустой) — сообщи об этом и не делай коммит.
- Если есть ошибки lint/tsc — исправь их перед коммитом.
- Используй сегодняшнюю дату в формате ДД.ММ.ГГГГ.

Выполни все шаги по порядку.

---
